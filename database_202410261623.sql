--
-- Script was generated by Devart dbForge Studio for MySQL, Version 9.2.128.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 26.10.2024 16:23:15
-- Server version: 8.1.0
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE `database`;

--
-- Drop table `docbodies`
--
DROP TABLE IF EXISTS docbodies;

--
-- Drop table `clas`
--
DROP TABLE IF EXISTS clas;

--
-- Drop table `proxybodies`
--
DROP TABLE IF EXISTS proxybodies;

--
-- Drop table `products`
--
DROP TABLE IF EXISTS products;

--
-- Drop table `docheaders`
--
DROP TABLE IF EXISTS docheaders;

--
-- Drop table `proxyheaders`
--
DROP TABLE IF EXISTS proxyheaders;

--
-- Drop table `individuals`
--
DROP TABLE IF EXISTS individuals;

--
-- Drop table `marks`
--
DROP TABLE IF EXISTS marks;

--
-- Drop table `organizations`
--
DROP TABLE IF EXISTS organizations;

--
-- Set default database
--
USE `database`;

--
-- Create table `organizations`
--
CREATE TABLE organizations (
  Id int NOT NULL AUTO_INCREMENT,
  title varchar(50) NOT NULL,
  inn varchar(10) NOT NULL,
  leader varchar(20) NOT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create table `marks`
--
CREATE TABLE marks (
  id int NOT NULL AUTO_INCREMENT,
  title varchar(255) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create table `individuals`
--
CREATE TABLE individuals (
  id int NOT NULL AUTO_INCREMENT,
  firstName varchar(25) NOT NULL,
  lastName varchar(25) NOT NULL,
  patronymic varchar(25) DEFAULT NULL,
  issued varchar(80) NOT NULL,
  series varchar(4) NOT NULL,
  number varchar(6) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 31,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create table `proxyheaders`
--
CREATE TABLE proxyheaders (
  id int NOT NULL AUTO_INCREMENT,
  number int NOT NULL,
  dischargeDate date NOT NULL,
  endDate date NOT NULL,
  individualId int NOT NULL,
  organizationId int NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 16,
AVG_ROW_LENGTH = 16384,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE proxyheaders
ADD CONSTRAINT FK_proxyheaders_individualId FOREIGN KEY (individualId)
REFERENCES individuals (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE proxyheaders
ADD CONSTRAINT FK_proxyheaders_organisationId FOREIGN KEY (organizationId)
REFERENCES organizations (Id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `docheaders`
--
CREATE TABLE docheaders (
  id int NOT NULL AUTO_INCREMENT,
  num int NOT NULL,
  organizationId int NOT NULL,
  trackId int NOT NULL,
  markId int NOT NULL,
  individualId int NOT NULL,
  pric varchar(255) NOT NULL,
  brigId int NOT NULL,
  date datetime NOT NULL,
  OKUD int NOT NULL,
  OKPO int NOT NULL,
  tabel int NOT NULL,
  registr int NOT NULL,
  inventnum int NOT NULL,
  otdel varchar(255) NOT NULL,
  brigada varchar(255) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 9,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE docheaders
ADD CONSTRAINT FK_docheaders_brigId FOREIGN KEY (brigId)
REFERENCES individuals (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE docheaders
ADD CONSTRAINT FK_docheaders_individualId FOREIGN KEY (individualId)
REFERENCES individuals (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE docheaders
ADD CONSTRAINT FK_docheaders_markId FOREIGN KEY (markId)
REFERENCES marks (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE docheaders
ADD CONSTRAINT FK_docheaders_organizationId FOREIGN KEY (organizationId)
REFERENCES organizations (Id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE docheaders
ADD CONSTRAINT FK_docheaders_trackId FOREIGN KEY (trackId)
REFERENCES individuals (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `products`
--
CREATE TABLE products (
  id int NOT NULL AUTO_INCREMENT,
  title varchar(50) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
AVG_ROW_LENGTH = 3276,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create table `proxybodies`
--
CREATE TABLE proxybodies (
  id int NOT NULL AUTO_INCREMENT,
  `count` int DEFAULT 1,
  unit varchar(8) NOT NULL,
  proxyHeaderId int NOT NULL,
  productId int NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 15,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE proxybodies
ADD CONSTRAINT FK_proxybodies_productId FOREIGN KEY (productId)
REFERENCES products (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE proxybodies
ADD CONSTRAINT FK_proxybodies_proxyHeaderId FOREIGN KEY (proxyHeaderId)
REFERENCES proxyheaders (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `clas`
--
CREATE TABLE clas (
  id int NOT NULL AUTO_INCREMENT,
  title varchar(255) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create table `docbodies`
--
CREATE TABLE docbodies (
  id int NOT NULL AUTO_INCREMENT,
  rasp varchar(255) NOT NULL,
  otkuda varchar(255) NOT NULL,
  kuda varchar(255) NOT NULL,
  rasst int NOT NULL,
  name varchar(50) NOT NULL,
  classId int NOT NULL,
  chislo int NOT NULL,
  kolvo int NOT NULL,
  ves int NOT NULL,
  DocHeaderId int NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 10,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE docbodies
ADD CONSTRAINT FK_docbodies_classId FOREIGN KEY (classId)
REFERENCES clas (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE docbodies
ADD CONSTRAINT FK_docbodies_DocHeaderId FOREIGN KEY (DocHeaderId)
REFERENCES docheaders (id) ON DELETE CASCADE ON UPDATE CASCADE;

-- 
-- Dumping data for table organizations
--
INSERT INTO organizations VALUES
(1, 'Организация1', '1234567890', 'Руководитель'),
(2, 'Организация2', '0987654321', 'Директор'),
(3, 'Организация3', '1237890456', 'Руководитель');

-- 
-- Dumping data for table marks
--
INSERT INTO marks VALUES
(1, 'УАЗ'),
(2, 'ВАЗ'),
(3, 'КАМАЗ');

-- 
-- Dumping data for table individuals
--
INSERT INTO individuals VALUES
(1, 'Иван', 'Иванов', 'Иванович', 'ГУ МВД РОССИИ', '1234', '678906'),
(2, 'Сергей', 'Сергеев', 'Сергеевич', 'ГУ МВД РОССИИ', '6371', '731651'),
(3, 'Пётр', 'Петров', 'Петрович', 'ГУ МВД РОССИИ', '6281', '642696');

-- 
-- Dumping data for table proxyheaders
--
INSERT INTO proxyheaders VALUES
(1, 1, '2024-10-01', '2024-10-24', 1, 1),
(2, 2, '2024-10-09', '2024-10-22', 2, 3);

-- 
-- Dumping data for table products
--
INSERT INTO products VALUES
(1, 'Материнская плата'),
(2, 'Видеокарта'),
(3, 'Корпус'),
(4, 'Вентиляторы');

-- 
-- Dumping data for table docheaders
--
INSERT INTO docheaders VALUES
(1, 1, 1, 1, 2, 2, 'Обычный', 3, '2024-10-08 00:00:00', 12345, 67900, 123, 123, 123, 'Администрация\r\n', 'Первая'),
(2, 2, 2, 3, 1, 2, 'Обычный\r\n', 1, '2024-09-30 00:00:00', 62851, 75421, 456, 456, 456, 'Центральный участок', 'Вторая');

-- 
-- Dumping data for table clas
--
INSERT INTO clas VALUES
(1, 'Малогабаритный'),
(2, 'Высокогабаритный\r\n');

-- 
-- Dumping data for table proxybodies
--
INSERT INTO proxybodies VALUES
(1, 1, 'шт', 1, 1),
(2, 4, 'шт', 1, 2),
(3, 4, 'шт', 2, 3);

-- 
-- Dumping data for table docbodies
--
INSERT INTO docbodies VALUES
(1, 'Личное', 'Село Иваново', 'Село Круглое', 45, 'Песок', 2, 600, 890, 6, 1),
(2, 'Личное', 'Пос. Белозёрный', 'Станица Морская', 170, 'Гравий', 2, 780, 585, 8, 1),
(3, 'Личное', 'Город Краснодар', 'Город Оренбург', 1000, 'Песок', 2, 900, 1600, 10, 2);

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;